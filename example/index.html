<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="style.css">
	<title>Visualizer Example Page</title>
</head>
<body>
	<main>
		<h1>Oscilloscope Visualizer</h1>

		<!-- 
			Create a div with ID 'visualizer'.
			You can style this div how you like.
		 -->

		<div id="visualizer" onmouseover="handleMouseOver()" onmouseout="handleMouseOut()">
			<!--
				The visualizer div must contain an audio element.
				Use of the 'controls' attribute is optional.
			-->
			<audio controls id="player"></audio>
		</div>

		<h2>Choose a Song</h2>
		<input id="upload" type="file" accept=".mp3" onchange="handleUpload(this.files[0])" />
	</main>

	<script src="../src/visualizer.js"></script>
	<script>
		var visualizer = document.getElementById('visualizer');
		var audioElement = visualizer.getElementsByTagName("audio")[0];

		function handleUpload(file) {
			var reader = new FileReader();
			audioElement.src = URL.createObjectURL(file);
			audioElement.play();
		}

		function handleMouseOver() {
			audioElement.style.opacity = 1;
		}

		function handleMouseOut() {
			audioElement.style.opacity = 0;
		}
	</script>
</body>
</html>
